{"version":3,"sources":["webpack:///webpack/bootstrap be9faca0380698e5ef4d","webpack:///./static/game/common/EventType.ts","webpack:///./static/game/scenes/scene.ts","webpack:///./static/game/common/Loader.ts","webpack:///./static/game/entity/BulletManager.ts","webpack:///./static/game/entity/entity.ts","webpack:///./static/game/game.ts","webpack:///./static/game/map/chunk.ts","webpack:///./static/game/map/map.ts","webpack:///./static/game/sky/skydome.ts"],"names":[],"mappings":"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","file":"application.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap be9faca0380698e5ef4d","\n\nexport enum EventType {\n    MESHES_LOAD,\n    SHADERS_LOAD,\n    LOAD_SUCCESS,\n    LOAD_FAIL,\n\n    MESHES_FAIL,\n    SHADERS_FAIL,\n\n    RENDER,\n    JOYSTICK_MOVE,\n    JOYSTICK_PRESS,\n\n    MAP_ENDS,\n}\n\n\n\n// WEBPACK FOOTER //\n// ./static/game/common/EventType.ts","import {INewable} from '../common/INewable';\nimport {Entity} from '../entity/entity';\nimport {IControllable} from '../entity/IControllable';\nimport {EventType} from '../common/EventType';\nimport {BulletManager} from '../entity/BulletManager';\nimport {Loader} from \"../common/Loader\";\nimport {Skydome} from \"../sky/skydome\";\nimport {Map} from \"../map/map\";\n\n\ndeclare const BABYLON;\ndeclare const JSWorks;\n\n\nexport class MotionScene extends (<INewable> BABYLON.Scene) {\n\n    private player: Entity;\n    private skydome: Skydome;\n\n    private map: Map;\n\n    public meshesLoader: Loader;\n    public shadersLoader: Loader;\n    private loadersCount: number = 0;\n    private loadersFired: number = 0;\n\n    private loader;\n    public currentInput: IControllable;\n    public bulletManager: BulletManager;\n\n\n    private last_position: number;\n\n    constructor(engine) {\n        super(engine);\n        engine.enableOfflineSupport = false;\n        this.bulletManager = new BulletManager(this);\n        this.map = new Map('motion-map', this);\n        // this.last_position = - this.map.chunkSize.height / 2;\n        this.last_position = 0;\n        console.log(\"last\", this.last_position);\n\n        JSWorks.EventManager.subscribe(this, this, EventType.JOYSTICK_MOVE,\n            (event, emitter) => {\n                this.currentInput.joystickMoved(event.data.x, event.data.y);\n            });\n        JSWorks.EventManager.subscribe(this, this, EventType.JOYSTICK_PRESS,\n            (event, emitter) => {\n                this.currentInput.joystickPressed();\n            });\n\n        JSWorks.EventManager.subscribe(this, this, EventType.RENDER,\n            (event, emiter) => {\n                this.onMapEnds();\n            });\n    }\n\n\n    public initMeshesLoader() {\n        this.meshesLoader = new Loader(this.loader);\n        this.loadersCount++;\n\n        this.meshesLoader.taskAdder = (self, name, root, file) => {\n            return self.loader.addMeshTask(name, '', root, file);\n        };\n\n        this.meshesLoader.resultGetter = (self, task) => {\n            task.loadedMeshes[0].setEnabled(false);\n            return task.loadedMeshes[0];\n        };\n\n        JSWorks.EventManager.subscribe(this, this.meshesLoader, EventType.LOAD_SUCCESS,\n            () => {\n                this.onLoaderSuccess();\n            })\n    }\n\n\n    public initShadersLoader() {\n        this.shadersLoader = new Loader(this.loader);\n        this.loadersCount++;\n\n        this.shadersLoader.taskAdder = (self, name, root, file) => {\n            return self.loader.addTextFileTask(name, `${root}/${file}`);\n        };\n\n        this.shadersLoader.resultGetter = (self, task) => {\n            BABYLON.Effect.ShadersStore[task.name] = task.text;\n            return task.text;\n        };\n\n        JSWorks.EventManager.subscribe(this, this.shadersLoader, EventType.LOAD_SUCCESS,\n            () => {\n                this.onLoaderSuccess();\n            })\n    }\n\n\n    public onLoaderSuccess() {\n        this.loadersFired++;\n\n        if (this.loadersCount === this.loadersFired) {\n            [EventType.MESHES_LOAD, EventType.SHADERS_LOAD].forEach((type) => {\n                (<any> this).emitEvent({type: type});\n            });\n\n            this.run();\n        }\n    }\n\n\n    public init() {\n        this.loader = new BABYLON.AssetsManager(this);\n\n        this.initMeshesLoader();\n        this.initShadersLoader();\n\n        this.player = new Entity('player', this);\n        this.currentInput = this.player;\n\n        this.skydome = new Skydome('skydome', this);\n        (<any> this.skydome).position.z = 100;\n\n        this.map.loadChunks();\n        // this.map.initRandomChunk();\n        this.map.initStartChunks();\n        // this.last_position = - this.map.chunkSize.height / 2;\n        // const ground = BABYLON.Mesh.CreateGround('ground', 5000, 5000, 250, this);\n        // ground.position.y = -10;\n        // ground.material = new BABYLON.StandardMaterial('ground', this);\n        // ground.material.wireframe = true;\n\n        this.loader.load();\n        this.meshesLoader.load();\n        this.shadersLoader.load();\n    }\n\n\n    public run() {\n        (<any> this).setActiveCameraByName(this.player.camera.name);\n        this.player.camera.attachControl((<any> this).getEngine().getRenderingCanvas(), true);\n\n        (<any> this).meshes.forEach((mesh) => {\n            if (mesh.__skybox__) {\n                mesh.renderingGroupId = 0;\n                return;\n            }\n\n            mesh.renderingGroupId = 1;\n        });\n\n        (<any> this).getEngine().runRenderLoop(() => {\n            (<any> this).emitEvent({type: EventType.RENDER});\n            (<any> this).render();\n        });\n    }\n\n\n    public static descendantName(parentName: string, name: string): string {\n        return `${parentName}__${name}`;\n    }\n\n    /**\n     * метод проверки долетел ли игрок на край текущего блока, если да эмиттим событие MAP_ENDS\n     */\n    public onMapEnds(): void {\n        const shipPosition = this.player.getCurrentPosition();\n        const border = this.map.activeChunk.getBorder();\n        if ((shipPosition.z >= border.rightTop.z) || (shipPosition.x <= border.leftDown.x) ||\n            (shipPosition.x >= border.rightTop.x)) {\n\n            const potentialArea = {\n                leftDown: {\n                    x: shipPosition.x - this.map.potentialArea.side / 2,\n                    z: shipPosition.z - 10,\n                },\n                rightTop: {\n                    x: shipPosition.x + this.map.potentialArea.side / 2,\n                    z: shipPosition.z + this.map.potentialArea.front,\n                },\n            };\n            (<any> this).emitEvent({type: EventType.MAP_ENDS, data: {visibleArea: potentialArea, shipPosition: shipPosition}});\n        }\n    }\n\n    public getPlayer(): Entity {\n        return this.player;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./static/game/scenes/scene.ts","import {EventType} from './EventType';\n\n\ndeclare const BABYLON;\ndeclare const JSWorks;\n\n\nexport class Loader {\n\n    private loader: any;\n\n    private _count: number = 0;\n    private _loaded: number = 0;\n    private _error: boolean = false;\n    private _hash: object = {};\n\n    public taskAdder: (self, name: string, root: string, file: string) => any = () => {};\n    public resultGetter: (self, task: any) => any = () => { return null; };\n\n\n    public get count(): number {\n        return this._count;\n    }\n\n    public get loaded(): number {\n        return this._loaded;\n    }\n\n    public get error(): boolean {\n        return this._error;\n    }\n\n    public retrieve(name: string) {\n        return this._hash[name];\n    }\n\n\n    constructor(loader: any) {\n        this.loader = loader;\n    }\n\n\n    public load() {\n        if (this._count === 0) {\n            (<any> this).emitEvent({ type: EventType.LOAD_SUCCESS });\n        }\n    }\n\n\n    public queue(name: string, root: string, file: string) {\n        if (this._hash[name]) {\n            return;\n        }\n\n        const task = this.taskAdder(this, name, root, file);\n        this._hash[name] = true;\n        this._count++;\n\n        task.onSuccess = (task) => {\n            this._loaded++;\n            this._hash[name] = this.resultGetter(this, task);\n\n            if ((this._loaded === this._count) && !this._error) {\n                (<any> this).emitEvent({ type: EventType.LOAD_SUCCESS });\n            }\n        };\n\n        task.onError = (task) => {\n            this._error = true;\n            this._hash = {};\n            this._loaded = 0;\n            this._count = 0;\n\n            (<any> this).emitEvent({ type: EventType.LOAD_FAIL });\n        }\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./static/game/common/Loader.ts","import {EventType} from \"../common/EventType\";\ndeclare const BABYLON;\ndeclare const JSWorks;\n\n\nexport class BulletManager {\n\n    public bullets: any[] = [];\n    private scene: any;\n    private lastBulletId: number = 0;\n\n\n    constructor(scene) {\n        this.scene = scene;\n\n        JSWorks.EventManager.subscribe(this, scene, EventType.RENDER,\n            (event, emitter) => { this.updateBullets(event, emitter); });\n    }\n\n\n    public getScene() {\n        return this.scene;\n    }\n\n\n    public fire(position, direction, speed, distance) {\n        this.lastBulletId++;\n        const bullet = new BABYLON.Mesh.CreateBox(`bullet_${this.lastBulletId}`, 0.1, (<any> this).getScene());\n\n        bullet.__position = position.clone();\n        bullet.__direction = direction.clone();\n        bullet.__speed = speed;\n        bullet.__distance = distance;\n        bullet.position = bullet.__position.clone();\n\n        this.bullets.push(bullet);\n    }\n\n\n    public updateBullets(event, emitter) {\n        this.bullets.forEach((bullet, index) => {\n            bullet.position.x += bullet.__direction.x * bullet.__speed;\n            bullet.position.y += bullet.__direction.y * bullet.__speed;\n            bullet.position.z += bullet.__direction.z * bullet.__speed;\n\n            if (BABYLON.Vector3.Distance(bullet.position, bullet.__position) >= bullet.__distance) {\n                bullet.getScene().removeMesh(bullet);\n                this.bullets.splice(index, 1);\n            }\n        });\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./static/game/entity/BulletManager.ts","import {IControllable} from './IControllable';\nimport {INewable} from '../common/INewable';\nimport {MotionScene} from '../scenes/scene';\nimport {EventType} from '../common/EventType';\n\n\ndeclare const BABYLON;\ndeclare const JSWorks;\n\n\nexport class Entity extends (<INewable> BABYLON.Mesh) implements IControllable {\n\n    private readonly modelName: 'spaceship';\n    public shipHolderX: any;\n    public shipHolderZ: any;\n    public ship: any;\n    public camera: any;\n    public light: any;\n    public joystick: any;\n    public target: any;\n\n    public speed: number = 1.0;\n\n    private angleX: number = 0;\n    private angleY: number = 0;\n    private direction: any;\n\n\n    constructor(name: string, scene: MotionScene) {\n        super(name, scene);\n\n        scene.meshesLoader.queue(this.modelName, '/game/assets/models/', 'spaceship.obj');\n\n        JSWorks.EventManager.subscribe(this, scene, EventType.MESHES_LOAD,\n            (event, emitter) => { this.onMeshesLoaded(event, emitter); });\n        JSWorks.EventManager.subscribe(this, scene, EventType.RENDER,\n            (event, emitter) => { this.onRender(event, emitter); });\n    }\n\n\n    public onMeshesLoaded(event, emitter) {\n        this.shipHolderZ = new BABYLON.Mesh.CreateBox(\n            MotionScene.descendantName((<any> this).name, 'shipHolder'),\n            0.1,\n            (<any> this).getScene()\n        );\n        this.shipHolderZ.parent = this;\n        this.shipHolderZ.isVisible = false;\n\n        this.shipHolderX = new BABYLON.Mesh.CreateBox(\n            MotionScene.descendantName((<any> this).name, 'shipHolder'),\n            0.1,\n            (<any> this).getScene()\n        );\n        this.shipHolderX.parent = this.shipHolderZ;\n        this.shipHolderX.isVisible = false;\n\n        this.ship = (<any> this).getScene().meshesLoader.retrieve(this.modelName);\n        this.ship = this.ship.clone(MotionScene.descendantName((<any> this).name, 'ship'));\n        this.ship.parent = this.shipHolderX;\n        this.ship.scaling = new BABYLON.Vector3(0.1, 0.1, 0.1);\n        this.ship.rotation = new BABYLON.Vector3(3 * Math.PI / 2, 0, Math.PI);\n        this.ship.setEnabled(true);\n\n        this.ship.material = new BABYLON.StandardMaterial('ship', (<any> this).getScene());\n        this.ship.material.emissiveColor = new BABYLON.Color3(107 / 255, 118 / 255, 186 / 255);\n\n\n        this.camera = new BABYLON.TargetCamera(\n            MotionScene.descendantName((<any> this).name, 'ship'),\n            new BABYLON.Vector3(0, 0, 0),\n            (<any> this).getScene()\n        );\n        this.camera.parent = this;\n        this.camera.setTarget(BABYLON.Vector3.Zero());\n        this.camera.position = new BABYLON.Vector3(0, 1, -5);\n        this.camera.noRotationConstraint = true;\n\n        this.joystick = new BABYLON.Mesh.CreateBox(\n            MotionScene.descendantName((<any> this).name, 'ship'),\n            0.1,\n            (<any> this).getScene()\n        );\n        this.joystick.parent = this;\n        this.joystick.position = new BABYLON.Vector3(0, 0, 5);\n        this.joystick.isVisible = false;\n\n        this.target = new BABYLON.Mesh.CreateBox(\n            MotionScene.descendantName((<any> this).name, 'ship'),\n            0.1,\n            (<any> this).getScene()\n        );\n        this.target.parent = this.shipHolderX;\n        this.target.position = new BABYLON.Vector3(0, 0, 5);\n\t\tthis.target.isVisible = false;\n\n        this.light = new BABYLON.HemisphericLight(\n            MotionScene.descendantName((<any> this).name, 'light'),\n            new BABYLON.Vector3(0, 5, 1),\n            (<any> this).getScene()\n        );\n        this.light.parent = this;\n        // this.light.diffuse = new BABYLON.Color3(135 / 255, 69 / 255, 203 / 255);\n\t\tthis.light.diffuse = new BABYLON.Color3(69 / 255, 110 / 255, 203 / 255);\n        this.light.intensity = 0.8;\n    }\n\n\n    public static slowMo(prev: number, value: number, power: number = 50) {\n        return (power * prev + value) / (power + 1);\n    }\n\n\n    private static getTranslationMatrix(node, mul?, scaling?, position?, rotation?) {\n        return BABYLON.Matrix.Compose(\n            scaling || (node || {}).scaling || new BABYLON.Vector3(1, 1, 1),\n            BABYLON.Quaternion.RotationYawPitchRoll(\n                rotation || ((node || {}).rotation || {}).y || 0,\n                rotation || ((node || {}).rotation || {}).x || 0,\n                rotation || ((node || {}).rotation || {}).z || 0,\n            ),\n            (position || (node || {}).position || BABYLON.Vector3.Zero()).scale(mul || 1),\n        );\n    }\n\n\n    private calculateMovement(modifier: number = 1) {\n        const xMatrix = Entity.getTranslationMatrix(this.shipHolderX);\n        const zMatrix = Entity.getTranslationMatrix(this.shipHolderZ);\n\n\t\tconst tMatrix = BABYLON.Matrix.Compose(\n\t\t\tnew BABYLON.Vector3(1, 1, 1),\n\t\t\tBABYLON.Quaternion.RotationYawPitchRoll(\n\t\t\t\t0,\n\t\t\t\t(<any> this).rotation.x,\n\t\t\t\t0,\n\t\t\t),\n\t\t\tBABYLON.Vector3.Zero(),\n\t\t);\n\n        this.direction = new BABYLON.Vector3(0, 0, modifier * this.speed);\n        // direction.addInPlace(new BABYLON.Vector3(0, this.joystick.position.y / 4 * 0.5, 0));\n\n\t\tthis.direction = BABYLON.Vector3.TransformCoordinates(this.direction, tMatrix);\n        this.direction = BABYLON.Vector3.TransformCoordinates(this.direction, xMatrix);\n        this.direction = BABYLON.Vector3.TransformCoordinates(this.direction, zMatrix);\n\n        (<any> this).position.x += this.direction.x;// * this.speed;\n        (<any> this).position.y += this.direction.y;// * this.speed;\n        (<any> this).position.z += this.direction.z;// * this.speed;\n    }\n\n\n    public static acos(angle: number) {\n        angle = (angle < -1) ? -1 : angle;\n        angle = (angle > 1) ? 1 : angle;\n\n        return Math.acos(angle);\n    }\n\n\n    public onRender(event, emitter) {\n\t\tthis.ship.isVisible = JSWorks._in_game_ === true;\n\n\t\tthis.angleY = Entity.acos(-(this.joystick.position.y / this.joystick.position.z));\n        this.angleX = Entity.acos( (this.joystick.position.x / this.joystick.position.z) * 1.3);\n\n        this.shipHolderX.rotation.x = Entity.slowMo(\n            this.shipHolderX.rotation.x,  Math.PI / 2 - this.angleY);\n        this.shipHolderZ.rotation.z = Entity.slowMo(\n            this.shipHolderZ.rotation.z, -Math.PI / 2 + this.angleX);\n\n        let rot = this.shipHolderX.rotation.x;\n        rot = rot - rot * Math.abs(Math.sin(this.shipHolderZ.rotation.z));\n\n        (<any> this).rotation.x = Entity.slowMo((<any> this).rotation.x, rot);\n\n        this.calculateMovement(1);\n    }\n\n\n    public static limitTarget(vector, distX, distY) {\n        if (vector.x < -distX) vector.x = -distX;\n        if (vector.y < -distY) vector.y = -distY;\n        if (vector.x >  distX) vector.x =  distX;\n        if (vector.y >  distY) vector.y =  distY;\n    }\n\n\n    public joystickMoved(x: number, y: number) {\n        this.joystick.position.x +=  x * 0.01;\n        this.joystick.position.y += -y * 0.01;\n\n        Entity.limitTarget(this.joystick.position, 4, 4);\n    }\n\n\n    public joystickPressed() {\n        (<any> this).getScene().bulletManager.fire(\n            this.ship.getAbsolutePosition(),\n            this.direction,\n            this.speed + 10,\n            100,\n        );\n    }\n\n    public getCurrentPosition() {\n        return this.ship.getAbsolutePosition();\n    }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./static/game/entity/entity.ts","import {MotionScene} from './scenes/scene';\nimport {EventType} from \"./common/EventType\";\n\n\ndeclare const BABYLON: any;\ndeclare const JSWorks: any;\n\n\ninterface IResolution { width?: number, height?: number, }\ninterface ICoord { x: number, y: number }\n\n\nclass Game {\n\n    private canvas: HTMLCanvasElement;\n    private engine: any;\n    private scene: MotionScene;\n    private events: { [type: string]: (event) => void } = {};\n    private genericWindowEventReceiver: (event) => void;\n    private lastMousePos: ICoord;\n\n    public resizable: boolean = false;\n    public pointerLocked: boolean = false;\n\n\n    constructor(canvas: HTMLCanvasElement, resizable: boolean = false, res?: IResolution) {\n        this.resizable = resizable;\n        this.canvas = canvas;\n        this.initCanvas(res);\n        this.scene = new MotionScene(this.engine);\n\n        this.events = {\n            resize: this.onResize,\n            mousemove: this.onPointerMove,\n            keydown: this.onKeyDown,\n            click: this.onClick,\n\n            pointerlockchange: this.onPointerLockChange,\n            mozpointerlockchange: this.onPointerLockChange,\n            webkitpointerlockchange: this.onPointerLockChange,\n        }\n    }\n\n\n    public run() {\n        this.scene.init();\n        this.initEventListeners();\n        this.initCanvasPointerLock();\n    }\n\n\n    public stop() {\n        this.freeEventListeners();\n    }\n\n\n    public onResize(event) {\n        if (this.resizable) {\n            this.engine.resize();\n        }\n    }\n\n\n    public onClick(event) {\n\t\t// this.pointerLocked = true;\n\t\t// this.canvas.requestPointerLock();\n\n\t\tif (JSWorks._in_game_) {\n\t\t\t(<any> this.scene).emitEvent({type: EventType.JOYSTICK_PRESS});\n\t\t}\n    }\n\n\n    public onPointerMove(event) {\n        if (!this.lastMousePos) {\n            this.lastMousePos = { x: event.screenX, y: event.screenY };\n            return;\n        }\n\n        const curMousePos = { x: event.screenX, y: event.screenY, };\n        const diffX = event.movementX || this.lastMousePos.x - curMousePos.x;\n        const diffY = event.movementY || this.lastMousePos.y - curMousePos.y;\n\n        if (this.pointerLocked) {\n            (<any> this.scene).emitEvent({ type: EventType.JOYSTICK_MOVE, data: { x: diffX, y: diffY } });\n        }\n\n        this.lastMousePos = curMousePos;\n    }\n\n\n    public togglePointerLock() {\n\t\tthis.pointerLocked = !this.pointerLocked;\n\n\t\tif (!this.pointerLocked) {\n\t\t\tdocument.exitPointerLock();\n\t\t\treturn;\n\t\t}\n\n\t\tthis.canvas.requestPointerLock();\n\t}\n\n\n    public onKeyDown(event) {\n        if (event.keyCode === \"L\".charCodeAt(0)) {\n        \tif (JSWorks._in_game_) {\n\t\t\t\tthis.togglePointerLock();\n\t\t\t}\n        }\n    }\n\n\n    public onPointerLockChange(event) {\n        const lock = document.pointerLockElement ||\n            (<any> document).mozPointerLockElement ||\n            (<any> document).webkitPointerLockElement;\n        if (lock !== this.canvas) {\n            this.pointerLocked = false;\n            return;\n        }\n\n        this.pointerLocked = true;\n    }\n\n    private initCanvas(res?: IResolution) {\n        let canvasSize = { height: '100%', width: '100%' };\n\n        if (res) {\n            canvasSize.height = `${res.height.toString()}px` || canvasSize.height;\n            canvasSize.width = `${res.width.toString()}px` || canvasSize.width;\n        }\n\n        this.canvas.style.height = canvasSize.height;\n        this.canvas.style.width = canvasSize.width;\n\n        this.engine = new BABYLON.Engine(this.canvas, true);\n\n        this.canvas.style.height = '100%';\n        this.canvas.style.width = '100%';\n    }\n\n\n    private initEventListeners() {\n        this.genericWindowEventReceiver = (event) => {\n            this.events[event.type].bind(this)(event);\n        };\n\n        Object.keys(this.events).forEach(type => {\n            window.addEventListener(type, this.genericWindowEventReceiver, false);\n        });\n    }\n\n\n    private freeEventListeners() {\n        Object.keys(this.events).forEach(type => {\n            window.removeEventListener(type, this.genericWindowEventReceiver);\n        });\n    }\n\n\n    private initCanvasPointerLock() {\n        this.canvas.requestPointerLock = this.canvas.requestPointerLock ||\n            (<any> this.canvas).mozRequestPointerLock ||\n            (<any> this.canvas).webkitRequestPointerLock;\n        document.exitPointerLock = document.exitPointerLock ||\n            (<any> document).mozRequestPointerLock ||\n            (<any> document).webkitRequestPointerLock;\n    }\n\n}\n\nJSWorks.__router_disabled__ = true;\n\n\nwindow.addEventListener('load', () => {\n\twindow.setTimeout(() => {\n\t\tconst game = new Game(\n\t\t\t<HTMLCanvasElement> document.getElementById('render-canvas'),\n\t\t\tfalse,\n\t\t\t// { width: 320, height: 240 }\n\t\t);\n\n\t\tgame.run();\n\t}, 1000);\n});\n\n\n\n\n// WEBPACK FOOTER //\n// ./static/game/game.ts","import {INewable} from \"../common/INewable\";\nimport {MotionScene} from \"../scenes/scene\";\n\ndeclare const BABYLON;\ndeclare const JSWorks;\n\nexport class Chunk extends (<INewable> BABYLON.Mesh) {\n\n    private scene: MotionScene;\n    public ground: any;\n\n    public isActive: boolean = false;\n\n    private height: number = 1000;\n    private width: number = 1000;\n\n    constructor(name: string, scene: MotionScene, widht, height) {\n        super(name, scene);\n        this.scene = scene;\n        this.width = widht;\n        this.height = height;\n        this.ground = BABYLON.Mesh.CreateGround('ground', this.width, this.height, 25, this.scene);\n        this.ground.position.z = -2000;\n        this.ground.material = new BABYLON.StandardMaterial('ground', this.scene);\n\n        /*\n        if (this.name === \"red\") {\n            this.ground.material.diffuseColor = new BABYLON.Color3(1.0, 0.0, 0.0);\n        }\n        if (this.name === \"green\") {\n            this.ground.material.diffuseColor = new BABYLON.Color3(0.0, 1.0, 0.0);\n        }\n        if (this.name === \"blue\") {\n            this.ground.material.diffuseColor = new BABYLON.Color3(0.0, 0.0, 1.0);\n        }\n        */\n\n\t\t// this.ground.material.diffuseColor = new BABYLON.Color3(62 / 255, 73 / 255, 137 / 255);\n\n\t\tthis.ground.material.emissiveColor = new BABYLON.Color3(107 / 255, 118 / 255, 186 / 255);\n        this.ground.material.wireframe = true;\n    }\n\n    public getScene(): MotionScene {\n        return this.scene;\n    }\n\n    public init(position: { x: number, z: number }) {\n        this.ground.position.x = position.x;\n        this.ground.position.z = position.z;\n        this.ground.position.y = -10;\n        this.isActive = true;\n    }\n\n    public getSize(): { h: number, w: number } {\n        return {h: this.height, w: this.width};\n    }\n\n    public getBorder(): { leftDown: { x: number, z: number }, rightTop: { x: number, z: number } } {\n        const halfWidth = this.width / 2;\n        const halfHeight = this.height / 2;\n        return {\n            leftDown: {x: this.ground.position.x - halfWidth, z: this.ground.position.z - halfHeight},\n            rightTop: {x: this.ground.position.x + halfWidth, z: this.ground.position.z + halfHeight}\n        };\n    }\n\n    public inArea(pos: any): boolean {\n        const border = this.getBorder();\n        return (border.leftDown.x <= pos.x) && (pos.x <= border.rightTop.x) && (pos.z >= border.leftDown.z)\n            && (pos.z <= border.rightTop.z);\n    }\n\n    /**\n     * метод проверки входит ли блок в зону видимости\n     * @param area\n     * @returns {boolean}\n     */\n    public isSeeable(area: any): boolean {\n        const border = this.getBorder();\n        return (border.rightTop.z >= area.leftDown.z) && (area.rightTop.x >= border.rightTop.x) && (area.leftDown.x <= border.leftDown.x)\n        // (border.rightTop.x <= area.rightTop.x);\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./static/game/map/chunk.ts","import {INewable} from \"../common/INewable\";\nimport {MotionScene} from \"../scenes/scene\";\nimport {Chunk} from \"./chunk\";\nimport {EventType} from \"../common/EventType\";\n\ndeclare const BABYLON;\ndeclare const JSWorks;\n\nexport class Map extends (<INewable> BABYLON.Mesh) {\n\n    private chunks: Chunk[];\n    private scene: MotionScene;\n    private counter: number = 0;\n    private _potentialArea: { side: number, front: number, };\n    public chunkSize: { width: number, height: number, } = {width: 1000, height: 1000,};\n    private _activeChunk: Chunk;\n    private visibleArea: { leftDown: { x: number, z: number }, rightTop: { x: number, z: number } };\n\n    constructor(name: string, scene: MotionScene) {\n        super(name, scene);\n        this.scene = scene;\n\n        this.loadChunks();\n        this._potentialArea = {side: 1000, front: 1000,};\n\n        JSWorks.EventManager.subscribe(this, this.scene, EventType.MAP_ENDS,\n            (event, emitter) => {\n\n                // провеяем какие блоки сейчас активны(попадают в прямоугольник видимости)\n                this.chunks.forEach(chunk => {\n                    if (!chunk.isSeeable(event.data.visibleArea)) {\n                        chunk.isActive = false;\n                    }\n                });\n\n                this.arrangeChunks(event.data.visibleArea, false);\n\n                // определяем текущий активный блок (этот параметр использует сцена, для того чтобы запускать событие\n                // MAP_ENDS\n                const pos = event.data.shipPosition;\n                this.chunks.forEach(chunk => {\n                    if (chunk.inArea(pos)) {\n                        this.activeChunk = chunk;\n                        return;\n                    }\n                });\n\n            }\n        )\n    }\n\n    public getScene(): MotionScene {\n        return this.scene;\n    }\n\n    /**\n     * загрузить блоки\n     */\n    public loadChunks(): void {\n        this.chunks = [\n            new Chunk(\"blue\", this.scene, this.chunkSize.width, this.chunkSize.height),\n            new Chunk(\"red\", this.scene, this.chunkSize.width, this.chunkSize.height),\n            new Chunk(\"green\", this.scene, this.chunkSize.width, this.chunkSize.height),\n            new Chunk(\"red\", this.scene, this.chunkSize.width, this.chunkSize.height),\n            new Chunk(\"green\", this.scene, this.chunkSize.width, this.chunkSize.height),\n            new Chunk(\"blue\", this.scene, this.chunkSize.width, this.chunkSize.height),\n            new Chunk(\"green\", this.scene, this.chunkSize.width, this.chunkSize.height),\n            new Chunk(\"red\", this.scene, this.chunkSize.width, this.chunkSize.height),\n            new Chunk(\"green\", this.scene, this.chunkSize.width, this.chunkSize.height),\n            new Chunk(\"green\", this.scene, this.chunkSize.width, this.chunkSize.height),\n            new Chunk(\"red\", this.scene, this.chunkSize.width, this.chunkSize.height),\n            new Chunk(\"green\", this.scene, this.chunkSize.width, this.chunkSize.height),\n            new Chunk(\"blue\", this.scene, this.chunkSize.width, this.chunkSize.height),\n            new Chunk(\"green\", this.scene, this.chunkSize.width, this.chunkSize.height),\n            new Chunk(\"red\", this.scene, this.chunkSize.width, this.chunkSize.height),\n            new Chunk(\"green\", this.scene, this.chunkSize.width, this.chunkSize.height),\n            new Chunk(\"blue\", this.scene, this.chunkSize.width, this.chunkSize.height),\n            new Chunk(\"red\", this.scene, this.chunkSize.width, this.chunkSize.height),\n        ];\n    }\n\n    /**\n     * проход по прямоугольной бласти и рендеринг блоков в ней\n     * @param visibleArea область, в которой необходимо иметь блоки\n     * @param start флаг, помечающий то, что это начальная инициализация\n     */\n    public arrangeChunks(visibleArea: { leftDown: { x: number, z: number }, rightTop: { x: number, z: number } },\n                         start: boolean): void {\n\n        for (let z = Math.round(visibleArea.rightTop.z / this.chunkSize.height) * this.chunkSize.height;\n             z >= visibleArea.leftDown.z; z -= this.chunkSize.height) {\n\n            for (let x = Math.round(visibleArea.leftDown.x / this.chunkSize.width) * this.chunkSize.width;\n                 x <= visibleArea.rightTop.x; x += this.chunkSize.width) {\n                const currentChunkPos = {x: x, z: z};\n\n                // проверка рендерили мы уже область или нет, если да переходим к следующуей итерации\n                if (!start && this.isRendered(currentChunkPos)) {\n                    // console.log(\"eee\");\n                    continue;\n                }\n\n                // ищем не активный блок\n                for (let i = 0; i < this.chunks.length && this.chunks[this.counter].isActive; i++) {\n                    this.counter = (this.counter + 1) % this.chunks.length;\n                }\n\n                // ставим его в currentChunkPos\n                this.chunks[this.counter].init(currentChunkPos);\n                this.counter = (this.counter + 1) % this.chunks.length;\n            }\n\n        }\n        // обновляем область видимости\n        this.visibleArea = visibleArea;\n    }\n\n    /**\n     * инициализация стартовых блоков\n     */\n    public initStartChunks() {\n        this.visibleArea = {\n            leftDown: {x: 0, z: 0},\n            rightTop: {x: 0, z: 0}\n        };\n\n        this.arrangeChunks({\n            leftDown: {x: -this._potentialArea.side / 2, z: 0},\n            rightTop: {x: this._potentialArea.side / 2, z: this._potentialArea.front}\n        }, true);\n\n        this.chunks.forEach(chunk => {\n            if (chunk.inArea(new BABYLON.Vector3(0, 0, 1))) {\n                this._activeChunk = chunk;\n                console.log(this._activeChunk);\n                return;\n            }\n        });\n\n    }\n\n    get potentialArea(): { side: number; front: number } {\n        return this._potentialArea;\n    }\n\n    set potentialArea(value: { side: number; front: number }) {\n        this._potentialArea = value;\n    }\n\n    get activeChunk(): Chunk {\n        return this._activeChunk;\n    }\n\n    set activeChunk(value: Chunk) {\n        this._activeChunk = value;\n    }\n\n    /**\n     * проверка на то, рендерилась текущая точка(т.е. находится ли она в текущей зоне видимости)\n     * @param pos координаты точки\n     * @returns {boolean} true если находится\n     */\n    public isRendered(pos: { x: number, z: number }): boolean {\n        return (this.visibleArea.leftDown.z < pos.z) && (this.visibleArea.leftDown.x < pos.x)\n            && (this.visibleArea.rightTop.z > pos.z) && (this.visibleArea.rightTop.x > pos.x);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./static/game/map/map.ts","import {INewable} from '../common/INewable';\nimport {MotionScene} from '../scenes/scene';\nimport {EventType} from \"../common/EventType\";\n\n\ndeclare const BABYLON;\ndeclare const JSWorks;\n\n\nexport class Skydome extends (<INewable> BABYLON.Mesh) {\n\n    private cube: any;\n    private time: number = 0;\n\n\n    constructor(name: string, scene: MotionScene) {\n        super(name, scene);\n\n        this.cube = new BABYLON.Mesh.CreateBox(\n            MotionScene.descendantName((<any> this).name, 'cube'),\n            100,\n            (<any> this).getScene()\n        );\n\n        scene.shadersLoader.queue('spaceFragmentShader', '/game/assets/shaders/', 'space.fragment.glsl');\n        scene.shadersLoader.queue('spaceVertexShader', '/game/assets/shaders/', 'space.vertex.glsl');\n\n        JSWorks.EventManager.subscribe(this, scene, EventType.SHADERS_LOAD,\n            (event, emitter) => { this.onShadersLoaded(event, emitter); });\n\n        JSWorks.EventManager.subscribe(this, scene, EventType.RENDER,\n            (event, emitter) => { this.onRender(event, emitter); });\n    }\n\n\n    public onShadersLoaded(event, emitter) {\n        /* const texture = new BABYLON.CustomProceduralTexture(\n            'space_texture',\n            './game/assets/textures/space',\n            512,\n            (<any> this).getScene()\n        );\n        texture.coordinatesMode = BABYLON.Texture.SKYBOX_MODE;\n        texture.uScale = 8.0;\n        texture.vScale = 8.0;\n\n        const material = new BABYLON.StandardMaterial('space_material', (<any> this).getScene());\n        material.backFaceCulling = false;\n        material.disableLighting = true;\n        material.diffuseColor = new BABYLON.Color3(0, 0, 0);\n        material.specularColor = new BABYLON.Color3(0, 0, 0);\n        material.reflectionTexture = texture; */\n\n        const material = new BABYLON.ShaderMaterial(\n            'space_material',\n            (<any> this).getScene(),\n            './game/assets/textures/space/custom', {\n                attributes: ['position', 'uv'],\n                uniforms: ['worldViewProjection', 'time']\n            }\n        );\n        material.backFaceCulling = false;\n        material.disableLighting = true;\n        material.diffuseColor = new BABYLON.Color3(0, 0, 0);\n        material.specularColor = new BABYLON.Color3(0, 0, 0);\n\n        this.cube.material = material;\n        this.cube.infiniteDistance = true;\n        this.cube.__skybox__ = true;\n        this.cube.setEnabled(true);\n    }\n\n\n    public onRender(event, emitter) {\n        this.cube.material.setFloat('time', this.time);\n        // this.cube.material.reflectionTexture = this.cube.material.reflectionTexture.setFloat('uv_scale', 10);\n        this.time += 0.016;\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./static/game/sky/skydome.ts"],"sourceRoot":""}