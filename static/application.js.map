{"version":3,"sources":["webpack:///webpack/bootstrap 2d02fbfa1748292921ff","webpack:///./static/game/common/EventType.ts","webpack:///./static/game/scenes/scene.ts","webpack:///./static/game/entity/entity.ts","webpack:///./static/game/common/Loader.ts","webpack:///./static/game/entity/BulletManager.ts","webpack:///./static/game/entity/SimpleEnemy.ts","webpack:///./static/game/game.ts","webpack:///./static/game/sky/skydome.ts"],"names":[],"mappings":"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","file":"application.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 2d02fbfa1748292921ff","\n\nexport enum EventType {\n    MESHES_LOAD,\n    SHADERS_LOAD,\n    LOAD_SUCCESS,\n    LOAD_FAIL,\n\n    MESHES_FAIL,\n    SHADERS_FAIL,\n\n    RENDER,\n    JOYSTICK_MOVE,\n    JOYSTICK_PRESS,\n\n    MAP_ENDS,\n}\n\n\n\n// WEBPACK FOOTER //\n// ./static/game/common/EventType.ts","import {INewable} from '../common/INewable';\nimport {Entity} from '../entity/entity';\nimport {IControllable} from '../entity/IControllable';\nimport {EventType} from '../common/EventType';\nimport {BulletManager} from '../entity/BulletManager';\nimport {Loader} from \"../common/Loader\";\nimport {Skydome} from \"../sky/skydome\";\nimport {Map} from \"../map/map\";\nimport {SimpleEnemy} from \"../entity/SimpleEnemy\";\n\n\ndeclare const BABYLON;\ndeclare const JSWorks;\n\n\nexport class MotionScene extends (<INewable> BABYLON.Scene) {\n\n    private player: Entity;\n    private skydome: Skydome;\n\n    private map: Map;\n\n    public meshesLoader: Loader;\n    public shadersLoader: Loader;\n    private loadersCount: number = 0;\n    private loadersFired: number = 0;\n\n    private loader;\n    public currentInput: IControllable;\n    public bulletManager: BulletManager;\n    public entities: Entity[] = [];\n\n    private last_position: number;\n    private lastEnemy: number = 0;\n    private ticks: number = -1;\n\n    public playerAbs;\n    public time = 0;\n\n\n    constructor(engine) {\n        super(engine);\n\n        engine.enableOfflineSupport = false;\n        this.bulletManager = new BulletManager(this);\n        // this.map = new Map('motion-map', this);\n\n        this.last_position = 0;\n\n\n        JSWorks.EventManager.subscribe(this, this, EventType.JOYSTICK_MOVE, (event) => {\n\t\t\tthis.currentInput.joystickMoved(event.data.x, event.data.y);\n\t\t});\n\n        JSWorks.EventManager.subscribe(this, this, EventType.JOYSTICK_PRESS, (event) => {\n\t\t\tthis.currentInput.joystickPressed();\n\t\t});\n\n        JSWorks.EventManager.subscribe(this, this, EventType.RENDER, (event) => {\n\t\t\t// this.onMapEnds();\n\t\t});\n    }\n\n\n    public initMeshesLoader() {\n        this.meshesLoader = new Loader(this.loader);\n        this.loadersCount++;\n\n        this.meshesLoader.taskAdder = (self, name, root, file) => {\n            return self.loader.addMeshTask(name, '', root, file);\n        };\n\n        this.meshesLoader.resultGetter = (self, task) => {\n            task.loadedMeshes[0].setEnabled(false);\n            return task.loadedMeshes[0];\n        };\n\n        JSWorks.EventManager.subscribe(this, this.meshesLoader, EventType.LOAD_SUCCESS, () => {\n\t\t\tthis.onLoaderSuccess();\n\t\t});\n    }\n\n\n    public initShadersLoader() {\n        this.shadersLoader = new Loader(this.loader);\n        this.loadersCount++;\n\n        this.shadersLoader.taskAdder = (self, name, root, file) => {\n            return self.loader.addTextFileTask(name, `${root}/${file}`);\n        };\n\n        this.shadersLoader.resultGetter = (self, task) => {\n            BABYLON.Effect.ShadersStore[task.name] = task.text;\n            return task.text;\n        };\n\n        JSWorks.EventManager.subscribe(this, this.shadersLoader, EventType.LOAD_SUCCESS, () => {\n\t\t\tthis.onLoaderSuccess();\n\t\t});\n    }\n\n\n    public onLoaderSuccess() {\n        this.loadersFired++;\n\n        if (this.loadersCount === this.loadersFired) {\n            [EventType.MESHES_LOAD, EventType.SHADERS_LOAD].forEach((type) => {\n                (<any> this).emitEvent({type: type});\n            });\n\n            this.run();\n        }\n    }\n\n\n    public init() {\n        this.loader = new BABYLON.AssetsManager(this);\n\n        this.initMeshesLoader();\n        this.initShadersLoader();\n\n        this.player = new Entity('player', this);\n        this.currentInput = this.player;\n        this.entities.push(this.player);\n\n        this.skydome = new Skydome('skydome', this);\n        (<any> this.skydome).position.z = 100;\n\n        // this.map.loadChunks();\n        // this.map.initStartChunks();\n\n        this.loader.load();\n        this.meshesLoader.load();\n        this.shadersLoader.load();\n    }\n\n\n    public static getRandomCoord(scater: number = 30): number {\n\t\treturn (Math.random() * 2 - 1) * scater;\n\t}\n\n\n    public initRandomEnemy(): void {\n    \tconst enemy: SimpleEnemy = new SimpleEnemy(`enemy_${this.lastEnemy}`, this);\n\t\t(<any> enemy).__lived = 0;\n\n    \tconst playerPos = (<any> this.currentInput).getAbsolutePosition();\n\n\t\t(<any> enemy).position = new BABYLON.Vector3(\n\t\t\tplayerPos.x + MotionScene.getRandomCoord(),\n\t\t\tplayerPos.y + MotionScene.getRandomCoord(),\n\t\t\tplayerPos.z + MotionScene.getRandomCoord() + 200,\n\t\t);\n\n\t\tthis.entities.push(enemy);\n\t}\n\n\n\tpublic render(): void {\n    \tif (Math.random() < 0.02) {\n\t\t\tthis.initRandomEnemy();\n\t\t}\n\n\t\tthis.playerAbs = (<any> this.currentInput).getAbsolutePosition();\n\n\t\tthis.entities.forEach((entity: any, index: number) => {\n\t\t\tif (entity.exploding === 100) {\n\t\t\t\tif (!entity.__lived) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tentity.remove();\n\t\t\t\tthis.entities.splice(index, 1);\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!entity.__lived) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tentity.__lived++;\n\n\t\t\tif (entity.__lived > 10) {\n\t\t\t\tentity.remove();\n\t\t\t\tthis.entities.splice(index, 1);\n\n\t\t\t\treturn;\n\t\t\t}\n\t\t});\n\n    \tif (this.ticks > 50) {\n    \t\tthis.ticks = -1;\n\t\t}\n\n    \tif (this.ticks < 0) {\n    \t\t// document.title = `Meshes: ${(<any> this).meshes.length}`;\n\t\t\tdocument.title = `Bullets: ${this.bulletManager.bullets.length}`;\n\t\t}\n\n\t\tthis.ticks++;\n\t\tsuper.render();\n\t}\n\n\n    public run() {\n        (<any> this).setActiveCameraByName(this.player.camera.name);\n        this.player.camera.attachControl((<any> this).getEngine().getRenderingCanvas(), true);\n\n        (<any> this).meshes.forEach((mesh) => {\n            if (mesh.__skybox__) {\n                mesh.renderingGroupId = 0;\n                return;\n            }\n\n            mesh.renderingGroupId = 1;\n        });\n\n        (<any> this).getEngine().runRenderLoop(() => {\n\t\t\tthis.time = (new Date()).getMilliseconds();\n\n            (<any> this).emitEvent({type: EventType.RENDER});\n            (<any> this).render();\n        });\n    }\n\n\n    public static descendantName(parentName: string, name: string): string {\n        return `${parentName}__${name}`;\n    }\n\n    /**\n     * метод проверки долетел ли игрок на край текущего блока, если да эмиттим событие MAP_ENDS\n     */\n    public onMapEnds(): void {\n        const shipPosition = this.player.getCurrentPosition();\n        const border = this.map.activeChunk.getBorder();\n        if ((shipPosition.z >= border.rightTop.z) || (shipPosition.x <= border.leftDown.x) ||\n            (shipPosition.x >= border.rightTop.x)) {\n\n            const potentialArea = {\n                leftDown: {\n                    x: shipPosition.x - this.map.potentialArea.side / 2,\n                    z: shipPosition.z - 10,\n                },\n                rightTop: {\n                    x: shipPosition.x + this.map.potentialArea.side / 2,\n                    z: shipPosition.z + this.map.potentialArea.front,\n                },\n            };\n            (<any> this).emitEvent({type: EventType.MAP_ENDS, data: {visibleArea: potentialArea, shipPosition: shipPosition}});\n        }\n    }\n\n\n    public getPlayer(): Entity {\n        return this.player;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./static/game/scenes/scene.ts","import {IControllable} from './IControllable';\nimport {INewable} from '../common/INewable';\nimport {MotionScene} from '../scenes/scene';\nimport {EventType} from '../common/EventType';\n\n\ndeclare const BABYLON;\ndeclare const JSWorks;\n\n\nexport class Entity extends (<INewable> BABYLON.Mesh) implements IControllable {\n\n    private readonly modelName: 'spaceship';\n    public shipHolderX: any;\n    public shipHolderZ: any;\n    public ship: any;\n    public camera: any;\n    public light: any;\n    public joystick: any;\n    public target: any;\n    public explosion: any;\n\n    public speed: number = 0.3;\n    public bulletSpeed: number = 0.1;\n\n    private angleX: number = 0;\n    private angleY: number = 0;\n    protected direction: any;\n    protected exploding: number = -1;\n    protected health: number = 10;\n\n\n    constructor(name: string, scene: MotionScene, first: boolean = true) {\n        super(name, scene);\n\n        this.bulletSpeed = this.speed * 10;\n\n\t\tJSWorks.EventManager.subscribe(this, scene, EventType.RENDER,\n\t\t\t(event, emitter) => { this.onRender(event, emitter); });\n\n        if (!first) {\n\t\t\tthis.onMeshesLoaded(event, undefined);\n        \treturn;\n\t\t}\n\n        scene.meshesLoader.queue(this.modelName, '/game/assets/models/', 'spaceship.obj');\n\n        JSWorks.EventManager.subscribe(this, scene, EventType.MESHES_LOAD,\n            (event, emitter) => { this.onMeshesLoaded(event, emitter); });\n    }\n\n\n    public onMeshesLoaded(event, emitter) {\n        this.shipHolderZ = new BABYLON.Mesh.CreateBox(\n            MotionScene.descendantName((<any> this).name, 'shipHolder'),\n            0.1,\n            (<any> this).getScene()\n        );\n        this.shipHolderZ.parent = this;\n        this.shipHolderZ.isVisible = false;\n\n        this.shipHolderX = new BABYLON.Mesh.CreateBox(\n            MotionScene.descendantName((<any> this).name, 'shipHolder'),\n            0.1,\n            (<any> this).getScene()\n        );\n        this.shipHolderX.parent = this.shipHolderZ;\n        this.shipHolderX.isVisible = false;\n\n        this.ship = (<any> this).getScene().meshesLoader.retrieve(this.modelName);\n        this.ship = this.ship.clone(MotionScene.descendantName((<any> this).name, 'ship'));\n        this.ship.parent = this.shipHolderX;\n        this.ship.scaling = new BABYLON.Vector3(0.1, 0.1, 0.1);\n        this.ship.rotation = new BABYLON.Vector3(3 * Math.PI / 2, 0, Math.PI);\n        this.ship.setEnabled(true);\n\n        this.ship.material = new BABYLON.StandardMaterial('ship', (<any> this).getScene());\n        this.ship.material.emissiveColor = new BABYLON.Color3(107 / 255, 118 / 255, 186 / 255);\n\n\n        this.camera = new BABYLON.TargetCamera(\n            MotionScene.descendantName((<any> this).name, 'ship'),\n            new BABYLON.Vector3(0, 0, 0),\n            (<any> this).getScene()\n        );\n        this.camera.parent = this;\n        this.camera.setTarget(BABYLON.Vector3.Zero());\n        this.camera.position = new BABYLON.Vector3(0, 1, -5);\n        this.camera.noRotationConstraint = true;\n\n        this.joystick = new BABYLON.Mesh.CreateBox(\n            MotionScene.descendantName((<any> this).name, 'ship'),\n            0.1,\n            (<any> this).getScene()\n        );\n        this.joystick.parent = this;\n        this.joystick.position = new BABYLON.Vector3(0, 0, 5);\n        this.joystick.isVisible = false;\n\n        this.target = new BABYLON.Mesh.CreateBox(\n            MotionScene.descendantName((<any> this).name, 'ship'),\n            0.2,\n            (<any> this).getScene()\n        );\n\t\tthis.target.material = new BABYLON.StandardMaterial('target', (<any> this).getScene());\n\t\tthis.target.material.emissiveColor = new BABYLON.Color3(0, 1, 0);\n\t\tthis.target.material.emissiveIntensity = 10;\n\t\tthis.target.material.alpha = 0.1;\n\n        this.target.parent = this.shipHolderX;\n        this.target.position = new BABYLON.Vector3(0, 0, 5);\n\t\tthis.target.isVisible = true;\n\n        this.light = new BABYLON.HemisphericLight(\n            MotionScene.descendantName((<any> this).name, 'light'),\n            new BABYLON.Vector3(0, 5, 1),\n            (<any> this).getScene()\n        );\n        this.light.parent = this;\n        // this.light.diffuse = new BABYLON.Color3(135 / 255, 69 / 255, 203 / 255);\n\t\tthis.light.diffuse = new BABYLON.Color3(69 / 255, 110 / 255, 203 / 255);\n        this.light.intensity = 0.3;\n\n        this.explosion = new BABYLON.Mesh.CreateSphere(\n        \t'explosion',\n\t\t\t100,\n\t\t\t30,\n\t\t\t(<any> this).getScene(),\n\t\t);\n        this.explosion.material = new BABYLON.StandardMaterial('expl', (<any> this).getScene());\n\t\tthis.explosion.material.emissiveColor = new BABYLON.Color3(1, 1, 1);\n\n        this.explosion.scaling = new BABYLON.Vector3(1, 1, 1);\n        this.explosion.parent = this.ship;\n        this.explosion.isVisible = false;\n    }\n\n\n    public slowMo(prev: number, value: number, power: number = 50) {\n        return (power * prev + value) / (power + 1);\n    }\n\n\n    protected static getTranslationMatrix(node, mul?, scaling?, position?, rotation?) {\n        return BABYLON.Matrix.Compose(\n            scaling || (node || {}).scaling || new BABYLON.Vector3(1, 1, 1),\n            BABYLON.Quaternion.RotationYawPitchRoll(\n                rotation || ((node || {}).rotation || {}).y || 0,\n                rotation || ((node || {}).rotation || {}).x || 0,\n                rotation || ((node || {}).rotation || {}).z || 0,\n            ),\n            (position || (node || {}).position || BABYLON.Vector3.Zero()).scale(mul || 1),\n        );\n    }\n\n\n    protected calculateMovement(modifier: number = 1) {\n        const xMatrix = Entity.getTranslationMatrix(this.shipHolderX);\n        const zMatrix = Entity.getTranslationMatrix(this.shipHolderZ);\n\n\t\tconst tMatrix = BABYLON.Matrix.Compose(\n\t\t\tnew BABYLON.Vector3(1, 1, 1),\n\t\t\tBABYLON.Quaternion.RotationYawPitchRoll(\n\t\t\t\t0,\n\t\t\t\t(<any> this).rotation.x,\n\t\t\t\t0,\n\t\t\t),\n\t\t\tBABYLON.Vector3.Zero(),\n\t\t);\n\n        this.direction = new BABYLON.Vector3(0, 0, 1);\n        // direction.addInPlace(new BABYLON.Vector3(0, this.joystick.position.y / 4 * 0.5, 0));\n\n\t\tthis.direction = BABYLON.Vector3.TransformCoordinates(this.direction, tMatrix);\n        this.direction = BABYLON.Vector3.TransformCoordinates(this.direction, xMatrix);\n        this.direction = BABYLON.Vector3.TransformCoordinates(this.direction, zMatrix);\n        this.direction = this.direction.normalize().scale(modifier * this.speed);\n\n        (<any> this).position.x += this.direction.x;// * this.speed;\n        (<any> this).position.y += this.direction.y;// * this.speed;\n        (<any> this).position.z += this.direction.z;// * this.speed;\n    }\n\n\n    public static acos(angle: number) {\n        angle = (angle < -1) ? -1 : angle;\n        angle = (angle > 1) ? 1 : angle;\n\n        return Math.acos(angle);\n    }\n\n\n    public onRender(event, emitter) {\n\t\t// this.ship.isVisible = JSWorks._in_game_ === true;\n\n\t\tthis.angleY = Entity.acos(-(this.joystick.position.y / this.joystick.position.z));\n        this.angleX = Entity.acos( (this.joystick.position.x / this.joystick.position.z) * 1.3);\n\n        /* this.shipHolderX.rotation.x = Entity.slowMo(\n            this.shipHolderX.rotation.x,  Math.PI / 2 - this.angleY);\n        this.shipHolderZ.rotation.z = Entity.slowMo(\n            this.shipHolderZ.rotation.z, -Math.PI / 2 + this.angleX);\n\n        let rot = this.shipHolderX.rotation.x;\n        rot = rot - rot * Math.abs(Math.sin(this.shipHolderZ.rotation.z));\n\n        (<any> this).rotation.x = Entity.slowMo((<any> this).rotation.x, rot);*/\n\n\t\tthis.shipHolderX.rotation.x = this.slowMo(\n\t\t\tthis.shipHolderX.rotation.x,  Math.PI / 2 - this.angleY);\n\t\tthis.shipHolderX.rotation.y = this.slowMo(\n\t\t\tthis.shipHolderX.rotation.y,  Math.PI / 2 - this.angleX);\n\t\tthis.shipHolderX.rotation.z = this.slowMo(\n\t\t\tthis.shipHolderX.rotation.z, (-Math.PI / 2 + this.angleX) * 2, 25);\n\n\t\tlet rot = this.shipHolderX.rotation.x;\n\t\trot = rot - rot * Math.abs(Math.sin(this.shipHolderZ.rotation.z));\n\n\t\t(<any> this).rotation.x = this.slowMo((<any> this).rotation.x, rot);\n\n        this.calculateMovement(1);\n\n        if (this.exploding >= 0) {\n        \tthis.exploding++;\n\n        \tthis.explosion.scaling.scaleInPlace(1 + this.exploding * 0.003);\n        \tthis.explosion.material.alpha = (100 - this.exploding) * 0.008;\n\n        \tif (this.exploding > 100) {\n        \t\tthis.exploding = 100;\n\t\t\t}\n\t\t}\n    }\n\n\n    public emitEvent(event) {};\n\n\n    protected limitTarget(vector, distX, distY) {\n        if (vector.x < -distX) vector.x = -distX;\n        if (vector.y < -distY) vector.y = -distY;\n        if (vector.x >  distX) vector.x =  distX;\n        if (vector.y >  distY) vector.y =  distY;\n    }\n\n\n    public joystickMoved(x: number, y: number) {\n    \tif (this.exploding >= 0) {\n    \t\treturn;\n\t\t}\n\n        this.joystick.position.x +=  x * 0.005;\n        this.joystick.position.y += -y * 0.012;\n\n        this.limitTarget(this.joystick.position, 4, 4);\n    }\n\n\n    public joystickPressed() {\n\t\tif (this.exploding >= 0) {\n\t\t\treturn;\n\t\t}\n\n        (<any> this).getScene().bulletManager.fire(\n            this.ship.getAbsolutePosition(),\n            this.direction,\n            this.bulletSpeed,\n        );\n    }\n\n    public getCurrentPosition() {\n        return this.ship.getAbsolutePosition();\n    }\n\n\n    public remove() {\n\t\t(<any> this).getScene().removeMesh(this.shipHolderZ);\n\t\t(<any> this).getScene().removeMesh(this.shipHolderX);\n\t\t(<any> this).getScene().removeMesh(this.ship);\n\t\t(<any> this).getScene().removeMesh(this.camera);\n\t\t(<any> this).getScene().removeMesh(this.target);\n\t\t(<any> this).getScene().removeMesh(this.joystick);\n\t\t(<any> this).getScene().removeMesh(this.light);\n\t\t(<any> this).getScene().removeMesh(this);\n\n\t\tthis.shipHolderZ.dispose(true);\n\t\tthis.shipHolderX.dispose(true);\n\t\tthis.ship.dispose(true);\n\t\tthis.camera.dispose(true);\n\t\tthis.target.dispose(true);\n\t\tthis.joystick.dispose(true);\n\t\tthis.light.dispose(true);\n\t\t(<any> this).dispose(true);\n\t}\n\n\n\tpublic explode() {\n    \tthis.health--;\n\n    \tif (this.health > 0) {\n    \t\treturn;\n\t\t}\n\n\t\tif (this.exploding === -1) {\n\t\t\tthis.exploding = 0;\n\n\t\t\tthis.ship.isVisible = false;\n\t\t\tthis.explosion.isVisible = true;\n\t\t\treturn;\n\t\t}\n\t}\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./static/game/entity/entity.ts","import {EventType} from './EventType';\n\n\ndeclare const BABYLON;\ndeclare const JSWorks;\n\n\nexport class Loader {\n\n    private loader: any;\n\n    private _count: number = 0;\n    private _loaded: number = 0;\n    private _error: boolean = false;\n    private _hash: object = {};\n\n    public taskAdder: (self, name: string, root: string, file: string) => any = () => {};\n    public resultGetter: (self, task: any) => any = () => { return null; };\n\n\n    public get count(): number {\n        return this._count;\n    }\n\n    public get loaded(): number {\n        return this._loaded;\n    }\n\n    public get error(): boolean {\n        return this._error;\n    }\n\n    public retrieve(name: string) {\n        return this._hash[name];\n    }\n\n\n    constructor(loader: any) {\n        this.loader = loader;\n    }\n\n\n    public load() {\n        if (this._count === 0) {\n            (<any> this).emitEvent({ type: EventType.LOAD_SUCCESS });\n        }\n    }\n\n\n    public queue(name: string, root: string, file: string) {\n        if (this._hash[name]) {\n            return;\n        }\n\n        const task = this.taskAdder(this, name, root, file);\n        this._hash[name] = true;\n        this._count++;\n\n        task.onSuccess = (task) => {\n            this._loaded++;\n            this._hash[name] = this.resultGetter(this, task);\n\n            if ((this._loaded === this._count) && !this._error) {\n                (<any> this).emitEvent({ type: EventType.LOAD_SUCCESS });\n            }\n        };\n\n        task.onError = (task) => {\n            this._error = true;\n            this._hash = {};\n            this._loaded = 0;\n            this._count = 0;\n\n            (<any> this).emitEvent({ type: EventType.LOAD_FAIL });\n        }\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./static/game/common/Loader.ts","import {EventType} from \"../common/EventType\";\ndeclare const BABYLON;\ndeclare const JSWorks;\n\n\nexport class BulletManager {\n\n    public bullets: any[] = [];\n    private scene: any;\n    private lastBulletId: number = 0;\n\n\n    constructor(scene) {\n        this.scene = scene;\n\n        JSWorks.EventManager.subscribe(this, scene, EventType.RENDER,\n            (event, emitter) => { this.updateBullets(event, emitter); });\n    }\n\n\n    public getScene() {\n        return this.scene;\n    }\n\n\n    public fire(position, direction, speed, distance = 500) {\n    \tif (this.bullets.length > 160) {\n    \t\treturn;\n\t\t}\n\n        this.lastBulletId++;\n        const bullet = new BABYLON.Mesh.CreateBox(`bullet_${this.lastBulletId}`, 0.1, (<any> this).getScene());\n\n        bullet.__position = position.clone();\n        bullet.__direction = direction.normalize().scale(speed);\n        bullet.__speed = speed;\n        bullet.__distance = distance;\n        bullet.__flew = 0;\n\n        bullet.position = bullet.__position.add(direction.scale(speed * 2));\n        bullet.scaling = new BABYLON.Vector3(1.0, 1.0, 100.0);\n\t\tbullet.lookAt(bullet.position.add(bullet.__direction));\n\n        bullet.material = new BABYLON.StandardMaterial('bullet_mat', (<any> this).getScene());\n        bullet.material.emissiveColor = new BABYLON.Color3(1.0, 0.0, 0.0);\n\t\tbullet.material.alpha = 0.7;\n\n        bullet.__light = new BABYLON.SpotLight(\n        \t'l',\n\t\t\tnew BABYLON.Vector3(0, 0, -0.5),\n\t\t\tnew BABYLON.Vector3(0, 0, 0.5),\n\t\t\t0.05,\n\t\t\t2,\n\t\t\t(<any> this).getScene(),\n\t\t);\n\t\tbullet.__light.diffuse = new BABYLON.Color3(1, 0, 0);\n\t\tbullet.__light.specular = new BABYLON.Color3(0.5, 0, 0);\n        bullet.__light.parent = bullet;\n\n        this.bullets.push(bullet);\n    }\n\n\n    public updateBullets(event, emitter) {\n    \tconst forDeleting: number[] = [];\n    \tlet spliced: number = 0;\n\n        this.bullets.forEach((bullet, index) => {\n\t\t\tbullet.position = bullet.position.add(bullet.__direction);\n            bullet.__flew++;\n\n            if (bullet.__flew > 15) {\n\t\t\t\tbullet.getScene().removeMesh(bullet.__light);\n\t\t\t\tbullet.__light.dispose(true);\n\n                bullet.getScene().removeMesh(bullet);\n                bullet.dispose(true);\n\n\t\t\t\tforDeleting.push(index);\n\t\t\t\treturn;\n            }\n\n            const abs = (<any> bullet).getAbsolutePosition();\n\n\t\t\t(<any> this).getScene().entities.forEach((entity) => {\n\t\t\t\tconst dist = BABYLON.Vector3.DistanceSquared(\n\t\t\t\t\tentity.getAbsolutePosition(),\n\t\t\t\t\tabs,\n\t\t\t\t);\n\n\t\t\t\tif (dist < 5) {\n\t\t\t\t\tentity.explode();\n\t\t\t\t}\n\t\t\t});\n        });\n\n        forDeleting.forEach((index) => {\n\t\t\tthis.bullets.splice(index - spliced, 1);\n\t\t\tspliced++;\n\t\t});\n    }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./static/game/entity/BulletManager.ts","import {Entity} from './entity';\nimport {MotionScene} from \"../scenes/scene\";\n\n\ndeclare const BABYLON;\ndeclare const JSWorks;\n\n\nexport class SimpleEnemy extends Entity {\n\n\n\tprivate fired: boolean = false;\n\tprivate firedCount: number = 0;\n\n\n\tconstructor(name: string, scene: MotionScene) {\n\t\tsuper(name, scene, false);\n\t\tthis.speed *= -1 * Math.random() * 0.1;\n\t\tthis.health = 1;\n\t}\n\n\n\tpublic onMeshesLoaded(event, emitter) {\n\t\tsuper.onMeshesLoaded(event, emitter);\n\t\tthis.light.setEnabled(false);\n\n\t\t(<any> this).ship.rotation.y = Math.PI;\n\n\t\tthis.target.material.emissiveColor = new BABYLON.Color3(1, 0, 0);\n\t\tthis.target.position = new BABYLON.Vector3(0, 0, -5);\n\t}\n\n\n\tprotected limitTarget(vector, distX, distY) {\n\t}\n\n\n\tpublic slowMo(prev: number, value: number, power: number = 50) {\n\t\tconst cubicBezier = (x: number, p1, p2, p3, p4): number => {\n\t\t\tconst xx = x * x;\n\t\t\tconst nx = 1.0 - x;\n\t\t\tconst nxnx = nx * nx;\n\t\t\treturn nxnx*nx*p1 + 3.0*nxnx*x*p2 + 3.0*nx*xx*p3 + xx*x*p4;\n\t\t};\n\n\t\t// power = 10 + cubicBezier(Math.abs(prev - value) * 10, 1, .01, .83, .67) * 200;\n\n\t\treturn (power * prev + value) / (power + 1);\n\t}\n\n\n\tprotected calculateMovement(modifier: number = 1) {\n\t\tsuper.calculateMovement(modifier);\n\n\t\tconst playerAbs = (<any> this).getScene().playerAbs;\n\t\tconst thisAbs = (<any> this).getAbsolutePosition();\n\n\t\tif (!playerAbs) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst jMatrix = Entity.getTranslationMatrix(this).invert();\n\t\tconst player = playerAbs.clone();\n\t\tplayer.z -= /*(<any> this).getScene().currentInput.speed*/ - this.speed - this.bulletSpeed;\n\n\t\tconst dst = BABYLON.Vector3.DistanceSquared(playerAbs, thisAbs);\n\n\t\tif (dst < 20000) {\n\t\t\tthis.firedCount++;\n\n\t\t\tif (this.firedCount > 10) {\n\t\t\t\tthis.firedCount = 0;\n\t\t\t\tthis.joystickPressed();\n\t\t\t}\n\t\t}\n\n\t\tif (dst < 500) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.joystick.position = BABYLON.Vector3.TransformCoordinates(player, jMatrix);\n\n\t\t/* if (Math.sin((<any> this).time * 10000) > 0) {\n\t\t\tif (!this.fired) {\n\t\t\t\t// this.fired = true;\n\t\t\t\tthis.joystickPressed();\n\t\t\t}\n\t\t} else {\n\t\t\tthis.fired = false;\n\t\t} */\n\t}\n\n\n\tpublic onRender(event, emitter) {\n\t\tsuper.onRender(event, emitter);\n\t}\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./static/game/entity/SimpleEnemy.ts","import {MotionScene} from './scenes/scene';\nimport {EventType} from \"./common/EventType\";\n\n\ndeclare const BABYLON: any;\ndeclare const JSWorks: any;\n\n\ninterface IResolution { width?: number, height?: number, }\ninterface ICoord { x: number, y: number }\n\n\nclass Game {\n\n    private canvas: HTMLCanvasElement;\n    private engine: any;\n    private scene: MotionScene;\n    private events: { [type: string]: (event) => void } = {};\n    private genericWindowEventReceiver: (event) => void;\n    private lastMousePos: ICoord;\n\n    public resizable: boolean = false;\n    public pointerLocked: boolean = false;\n\n\n    constructor(canvas: HTMLCanvasElement, resizable: boolean = false, res?: IResolution) {\n        this.resizable = resizable;\n        this.canvas = canvas;\n        this.initCanvas(res);\n        this.scene = new MotionScene(this.engine);\n\n        this.events = {\n            resize: this.onResize,\n            mousemove: this.onPointerMove,\n            keydown: this.onKeyDown,\n            click: this.onClick,\n\n            pointerlockchange: this.onPointerLockChange,\n            mozpointerlockchange: this.onPointerLockChange,\n            webkitpointerlockchange: this.onPointerLockChange,\n        }\n    }\n\n\n    public run() {\n        this.scene.init();\n        this.initEventListeners();\n        this.initCanvasPointerLock();\n    }\n\n\n    public stop() {\n        this.freeEventListeners();\n    }\n\n\n    public onResize(event) {\n        if (this.resizable) {\n            this.engine.resize();\n        }\n    }\n\n\n    public onClick(event) {\n\t\t// this.pointerLocked = true;\n\t\t// this.canvas.requestPointerLock();\n\n\t\tif (JSWorks._in_game_) {\n\t\t\t(<any> this.scene).emitEvent({type: EventType.JOYSTICK_PRESS});\n\t\t}\n    }\n\n\n    public onPointerMove(event) {\n        if (!this.lastMousePos) {\n            this.lastMousePos = { x: event.screenX, y: event.screenY };\n            return;\n        }\n\n        const curMousePos = { x: event.screenX, y: event.screenY, };\n        const diffX = event.movementX || this.lastMousePos.x - curMousePos.x;\n        const diffY = event.movementY || this.lastMousePos.y - curMousePos.y;\n\n        if (this.pointerLocked) {\n            (<any> this.scene).emitEvent({ type: EventType.JOYSTICK_MOVE, data: { x: diffX, y: diffY } });\n        }\n\n        this.lastMousePos = curMousePos;\n    }\n\n\n    public togglePointerLock() {\n\t\tthis.pointerLocked = !this.pointerLocked;\n\n\t\tif (!this.pointerLocked) {\n\t\t\tdocument.exitPointerLock();\n\t\t\treturn;\n\t\t}\n\n\t\tthis.canvas.requestPointerLock();\n\t}\n\n\n    public onKeyDown(event) {\n        if (event.keyCode === \"L\".charCodeAt(0)) {\n        \tif (JSWorks._in_game_) {\n\t\t\t\tthis.togglePointerLock();\n\t\t\t}\n        }\n    }\n\n\n    public onPointerLockChange(event) {\n        const lock = document.pointerLockElement ||\n            (<any> document).mozPointerLockElement ||\n            (<any> document).webkitPointerLockElement;\n        if (lock !== this.canvas) {\n            this.pointerLocked = false;\n            return;\n        }\n\n        this.pointerLocked = true;\n    }\n\n    private initCanvas(res?: IResolution) {\n        let canvasSize = { height: '100%', width: '100%' };\n\n        if (res) {\n            canvasSize.height = `${res.height.toString()}px` || canvasSize.height;\n            canvasSize.width = `${res.width.toString()}px` || canvasSize.width;\n        }\n\n        this.canvas.style.height = canvasSize.height;\n        this.canvas.style.width = canvasSize.width;\n\n        this.engine = new BABYLON.Engine(this.canvas, true);\n\n        this.canvas.style.height = '100%';\n        this.canvas.style.width = '100%';\n    }\n\n\n    private initEventListeners() {\n        this.genericWindowEventReceiver = (event) => {\n            this.events[event.type].bind(this)(event);\n        };\n\n        Object.keys(this.events).forEach(type => {\n            window.addEventListener(type, this.genericWindowEventReceiver, false);\n        });\n    }\n\n\n    private freeEventListeners() {\n        Object.keys(this.events).forEach(type => {\n            window.removeEventListener(type, this.genericWindowEventReceiver);\n        });\n    }\n\n\n    private initCanvasPointerLock() {\n        this.canvas.requestPointerLock = this.canvas.requestPointerLock ||\n            (<any> this.canvas).mozRequestPointerLock ||\n            (<any> this.canvas).webkitRequestPointerLock;\n        document.exitPointerLock = document.exitPointerLock ||\n            (<any> document).mozRequestPointerLock ||\n            (<any> document).webkitRequestPointerLock;\n    }\n\n}\n\nJSWorks.__router_disabled__ = true;\n\n\nwindow.addEventListener('load', () => {\n\twindow.setTimeout(() => {\n\t\tconst game = new Game(\n\t\t\t<HTMLCanvasElement> document.getElementById('render-canvas'),\n\t\t\tfalse,\n\t\t\t//{ width: 320, height: 240 }\n\t\t);\n\n\t\tgame.run();\n\t}, 1000);\n});\n\n\n\n\n// WEBPACK FOOTER //\n// ./static/game/game.ts","import {INewable} from '../common/INewable';\nimport {MotionScene} from '../scenes/scene';\nimport {EventType} from \"../common/EventType\";\n\n\ndeclare const BABYLON;\ndeclare const JSWorks;\n\n\nexport class Skydome extends (<INewable> BABYLON.Mesh) {\n\n    private cube: any;\n    private time: number = 0;\n\n\n    constructor(name: string, scene: MotionScene) {\n        super(name, scene);\n\n        this.cube = new BABYLON.Mesh.CreateBox(\n            MotionScene.descendantName((<any> this).name, 'cube'),\n            100,\n            (<any> this).getScene()\n        );\n\n        scene.shadersLoader.queue('spaceFragmentShader', '/game/assets/shaders/', 'space.fragment.glsl');\n        scene.shadersLoader.queue('spaceVertexShader', '/game/assets/shaders/', 'space.vertex.glsl');\n\n        JSWorks.EventManager.subscribe(this, scene, EventType.SHADERS_LOAD,\n            (event, emitter) => { this.onShadersLoaded(event, emitter); });\n\n        JSWorks.EventManager.subscribe(this, scene, EventType.RENDER,\n            (event, emitter) => { this.onRender(event, emitter); });\n    }\n\n\n    public onShadersLoaded(event, emitter) {\n        /* const texture = new BABYLON.CustomProceduralTexture(\n            'space_texture',\n            './game/assets/textures/space',\n            512,\n            (<any> this).getScene()\n        );\n        texture.coordinatesMode = BABYLON.Texture.SKYBOX_MODE;\n        texture.uScale = 8.0;\n        texture.vScale = 8.0;\n\n        const material = new BABYLON.StandardMaterial('space_material', (<any> this).getScene());\n        material.backFaceCulling = false;\n        material.disableLighting = true;\n        material.diffuseColor = new BABYLON.Color3(0, 0, 0);\n        material.specularColor = new BABYLON.Color3(0, 0, 0);\n        material.reflectionTexture = texture; */\n\n        const material = new BABYLON.ShaderMaterial(\n            'space_material',\n            (<any> this).getScene(),\n            './game/assets/textures/space/custom', {\n                attributes: ['position', 'uv'],\n                uniforms: ['worldViewProjection', 'time']\n            }\n        );\n        material.backFaceCulling = false;\n        material.disableLighting = true;\n        material.diffuseColor = new BABYLON.Color3(0, 0, 0);\n        material.specularColor = new BABYLON.Color3(0, 0, 0);\n\n        this.cube.material = material;\n        this.cube.infiniteDistance = true;\n        this.cube.__skybox__ = true;\n        this.cube.setEnabled(true);\n    }\n\n\n    public onRender(event, emitter) {\n        this.cube.material.setFloat('time', this.time);\n        // this.cube.material.reflectionTexture = this.cube.material.reflectionTexture.setFloat('uv_scale', 10);\n        this.time += 0.016;\n    }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./static/game/sky/skydome.ts"],"sourceRoot":""}